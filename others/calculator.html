<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>简易计算器(写起代码来一点不简易)</title>
		<style>
			/*#top_text{margin: top 50px; margin-left: 200px;}
			span{margin-left: 200px;}
			input{margin-left: 200px;}
			#one{margin-left: 200px;}
			select{margin-left: 200px;}
			#result{margin-left: 200px;}*/
			#slt
			{
				background-color:rgb(69, 147, 175);
				color: rgb(254, 232, 203);
			}
		</style>
	</head>
	<body>
		<div>
			<h1 id="top_text">Calculator</h1>
			<span>数字a:</span><br>
			<input type="text" placeholder="请键入数字" id="a" onkeydown="line()">
			<br><span>运算符:</span><br>
			<select id="slt">
				<option value="+">+</option>
				<option value="-">-</option>
				<option value="*">*</option>
				<option value="/">/</option>
				<option value="^">乘方(a的b次方)</option>
			</select>
			<br>
			<span>数字b:</span><br>
			<input type="text" placeholder="请键入数字" id="b" onkeydown="line()">
			<br><br>
			<b id="one">❌</b><strong> 键入第一个数字</strong>
			<b id="two">❌</b><strong> 键入第二个数字</strong>
			<br><b id="result"></b>
		</div><br><br>
		<h4>© 2023 Lantern,All Rights Reserved.</h4>
		<script type="text/javascript">
			function doClear() {
				let inputs = document.getElementsByTagName("input");
				for (let i = 0; i < inputs.length; i++) {
					if (inputs[i].type == 'text') {
						inputs[i].value = '';
					}
				}
			}
			function process() {
				let a_=document.getElementById("a").value;
				let b_=document.getElementById("b").value;
				let slt_=document.getElementById("slt");
				 ans=0;
				if(slt_.value=="+") ans=parseFloat(a_)+parseFloat(b_);
				else if(slt_.value=="-") ans=a_-b_;
				else if(slt_.value=="*") ans=a_*b_;
				else if(slt_.value=="^"){
					ans=1;
					for(let i=1;i<=b_;i++){
						ans=ans*a_;
					}
				}
				else ans=a_/b_;

				return ans;
			}
			function line(){
				let a_=document.getElementById("a").value;
				let b_=document.getElementById("b").value;
				if(a_.length!=0) document.getElementById("one").textContent="✅";
				else document.getElementById("one").textContent="❌";
				if(b_.length!=0) document.getElementById("two").textContent="✅";
				else document.getElementById("two").textContent="❌";
				if(a_.length!=0 && b_.length!=0)
				{
					let res=process()
					document.getElementById("result").textContent="结果:"+ans;
				}
				else document.getElementById("result").textContent="";
			}
			function change() {
				nIntervId = setInterval(function(){line(),process()}, 50);
			}
			change()
		</script>
	</body>
</html>
